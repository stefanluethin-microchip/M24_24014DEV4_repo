# This file was generated by the CI/CD Wizard version 1.2.19.
# For information on MDB and how to extend this script see: https://microchipdeveloper.com/mplabx:mdb

# Disable all dialogs
set system.yestoalldialog true

# Set tool and device
device ATSAMD21J18A
# Add IP of tool so it can be detected
addip 169.254.062.125
# (Optional) List tools to verify that tool was detected
hwtool
sleep 3000
# Connect to network configured tool
hwtool ICD5 <ipa>169.254.062.125

# Generate coverage data using MPLAB Code Coverage
# Requires that the project is built with the -mcodecov option and MPLAB Code Coverage license
# (see https://microchipdeveloper.com/xcc:mplab-code-coverage)
set xccodecoverage.reporttype all
set xccodecoverage.htmlreportpath hardware_test_coverage
set xccodecoverage.replacehtmlreport true

# The binary path used bellow is set to match what is used by the build job (Linux based).
# To run this script locally, replace next line with 'program' followed by the path to your local binary file
program ./dist/build.elf

# You can customize the script by changing the remaining lines.
# The default setup will run the simulator for 30 seconds before exiting.
run
wait 30000
halt
quit